' Line-oriented text editor
set /arbed [ registry . ] .
in arbed
   (
     set /buffer [ list . ] . 
     set /cur-line 1 . 
     set /n ( up ( set /cur-line [ add cur-line 1 . ] . ) . ) .
     set /p ( up ( set /cur-line [ subtract cur-line 1 . ] . ) . ) .
     set /i
         (
           set /arbed-str s buffer .
           in buffer
              (
                to-register [ concat "#" [ to-string cur-line . ] . ] .
                set ans arbed-str .
              ) .
         ) .
     set /o
         (
           to-register [ concat "#" [ to-string cur-line . ] . ] .
           print [ get ans buffer . ] .
         ) .
   ) .

     
