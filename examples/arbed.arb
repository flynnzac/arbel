' Line-oriented text editor
set /arbed [ registry . ] .
in arbed
   (
     set /buffer [ list . ] . 
     set /cur-line 1 . 
     set /n ( up set /cur-line [ add cur-line 1 . ] . ) .
     set /p ( up set /cur-line [ sub cur-line 1 . ] . ) .
     set /i
         [ op
             (
               set /arbed-str s buffer .
               in buffer
                  (
                    to-register cur-line .
                    set ans arbed-str .
                  ) .
             )
             /s . ] .
     set /o
         (
           to-register cur-line . 
           print [ get ans buffer . ] .
         ) .
   ) .

     
